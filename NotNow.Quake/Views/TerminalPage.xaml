<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="NotNow.Quake.Views.TerminalPage"
             Title=""
             BackgroundColor="#0C0C0C">

    <Grid Padding="10" RowSpacing="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Main Content Area -->
        <Border Grid.Row="0"
                StrokeThickness="1"
                Stroke="#4A9EFF"
                BackgroundColor="#1A1A1A">
            <Grid ColumnSpacing="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.25*" />
                    <ColumnDefinition Width="1" />
                    <ColumnDefinition Width="0.45*" />
                    <ColumnDefinition Width="1" />
                    <ColumnDefinition Width="0.30*" />
                </Grid.ColumnDefinitions>

                <!-- Issues List -->
                <Grid Grid.Column="0" Padding="5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Issues Header with Toolbar -->
                    <Grid Grid.Row="0" Margin="0,0,0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Column="0"
                               Text="ISSUES"
                               TextColor="#E0E0E0"
                               FontFamily="CascadiaMono"
                               FontSize="14"
                               VerticalTextAlignment="Center" />

                        <!-- Toolbar -->
                        <HorizontalStackLayout Grid.Column="1"
                                               Spacing="5"
                                               VerticalOptions="Center">
                            <!-- Add Issue Button -->
                            <Border x:Name="AddIssueButton"
                                    BackgroundColor="#2A2A2A"
                                    StrokeThickness="1"
                                    Stroke="#4A9EFF"
                                    HeightRequest="30"
                                    WidthRequest="30"
                                    VerticalOptions="Center">
                                <Label Text="&#xE148;"
                                       TextColor="#4A9EFF"
                                       FontFamily="MaterialIcons"
                                       FontSize="20"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       HorizontalTextAlignment="Center"
                                       VerticalTextAlignment="Center"
                                       ToolTipProperties.Text="Add issue">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnAddIssueClicked" />
                                    </Label.GestureRecognizers>
                                </Label>
                            </Border>

                            <!-- Closed Issues Filter Toggle -->
                            <Border x:Name="ClosedIssuesToggleBorder"
                                    BackgroundColor="#2A2A2A"
                                    StrokeThickness="1"
                                    Stroke="#4A9EFF"
                                    HeightRequest="30"
                                    WidthRequest="30"
                                    VerticalOptions="Center">
                                <Label x:Name="ClosedIssuesToggle"
                                       Text="&#xE76E;"
                                       TextColor="#4A9EFF"
                                       FontFamily="MaterialIcons"
                                       FontSize="20"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       HorizontalTextAlignment="Center"
                                       VerticalTextAlignment="Center"
                                       ToolTipProperties.Text="Hide closed issues">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnClosedIssuesToggled" />
                                    </Label.GestureRecognizers>
                                </Label>
                            </Border>

                            <!-- Group By Tag Toggle -->
                            <Border x:Name="GroupByTagToggleBorder"
                                    BackgroundColor="#2A2A2A"
                                    StrokeThickness="1"
                                    Stroke="#4A9EFF"
                                    HeightRequest="30"
                                    WidthRequest="30"
                                    VerticalOptions="Center">
                                <Label x:Name="GroupByTagToggle"
                                       Text="&#xe892;"
                                       TextColor="#4A9EFF"
                                       FontFamily="MaterialIcons"
                                       FontSize="20"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       HorizontalTextAlignment="Center"
                                       VerticalTextAlignment="Center"
                                       ToolTipProperties.Text="Group by tags">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnGroupByTagToggled" />
                                    </Label.GestureRecognizers>
                                </Label>
                            </Border>

                            <!-- Sort Mode Toggle -->
                            <Border x:Name="SortModeToggleBorder"
                                    BackgroundColor="#2A2A2A"
                                    StrokeThickness="1"
                                    Stroke="#4A9EFF"
                                    HeightRequest="30"
                                    WidthRequest="30"
                                    VerticalOptions="Center">
                                <Label x:Name="SortModeToggle"
                                       Text="&#xe164;"
                                       TextColor="#4A9EFF"
                                       FontFamily="MaterialIcons"
                                       FontSize="20"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       HorizontalTextAlignment="Center"
                                       VerticalTextAlignment="Center"
                                       ToolTipProperties.Text="Sort by: Issue # (newest first)">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnSortModeToggled" />
                                    </Label.GestureRecognizers>
                                </Label>
                            </Border>

                            <!-- Priority Filter Buttons -->
                            <HorizontalStackLayout Spacing="0">
                                <!-- Critical Priority Filter -->
                                <Border x:Name="CriticalPriorityFilter"
                                        BackgroundColor="#4A9EFF"
                                        StrokeThickness="1"
                                        Stroke="#4A9EFF"
                                        HeightRequest="30"
                                        WidthRequest="30"
                                        VerticalOptions="Center">
                                    <Label Text="&#xe3d0;"
                                           x:Name="CriticalPriorityFilterLabel"
                                           TextColor="#FFFFFF"
                                           FontFamily="MaterialIcons"
                                           FontSize="18"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center"
                                           HorizontalTextAlignment="Center"
                                           VerticalTextAlignment="Center"
                                           ToolTipProperties.Text="Filter Critical priority">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnPriorityFilterCriticalClicked" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>

                                <!-- High Priority Filter -->
                                <Border x:Name="HighPriorityFilter"
                                        BackgroundColor="#4A9EFF"
                                        StrokeThickness="1"
                                        Stroke="#4A9EFF"
                                        HeightRequest="30"
                                        WidthRequest="30"
                                        VerticalOptions="Center">
                                    <Label Text="&#xe3d1;"
                                           x:Name="HighPriorityFilterLabel"
                                           TextColor="#FFFFFF"
                                           FontFamily="MaterialIcons"
                                           FontSize="18"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center"
                                           HorizontalTextAlignment="Center"
                                           VerticalTextAlignment="Center"
                                           ToolTipProperties.Text="Filter High priority">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnPriorityFilterHighClicked" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>

                                <!-- Medium Priority Filter -->
                                <Border x:Name="MediumPriorityFilter"
                                        BackgroundColor="#4A9EFF"
                                        StrokeThickness="1"
                                        Stroke="#4A9EFF"
                                        HeightRequest="30"
                                        WidthRequest="30"
                                        VerticalOptions="Center">
                                    <Label Text="&#xe3d2;"
                                           x:Name="MediumPriorityFilterLabel"
                                           TextColor="#FFFFFF"
                                           FontFamily="MaterialIcons"
                                           FontSize="18"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center"
                                           HorizontalTextAlignment="Center"
                                           VerticalTextAlignment="Center"
                                           ToolTipProperties.Text="Filter Medium priority">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnPriorityFilterMediumClicked" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>

                                <!-- Low Priority Filter -->
                                <Border x:Name="LowPriorityFilter"
                                        BackgroundColor="#4A9EFF"
                                        StrokeThickness="1"
                                        Stroke="#4A9EFF"
                                        HeightRequest="30"
                                        WidthRequest="30"
                                        VerticalOptions="Center">
                                    <Label Text="&#xe3d4;"
                                           x:Name="LowPriorityFilterLabel"
                                           TextColor="#FFFFFF"
                                           FontFamily="MaterialIcons"
                                           FontSize="18"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center"
                                           HorizontalTextAlignment="Center"
                                           VerticalTextAlignment="Center"
                                           ToolTipProperties.Text="Filter Low priority">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnPriorityFilterLowClicked" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>
                            </HorizontalStackLayout>
                        </HorizontalStackLayout>
                    </Grid>

                    <CollectionView Grid.Row="1"
                                    x:Name="IssuesListView"
                                    SelectionMode="Single"
                                    ItemsSource="{Binding Issues}">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Grid Padding="2">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <!-- Selection indicator -->
                                    <Label Grid.Column="0"
                                           Text="▶"
                                           TextColor="#4A9EFF"
                                           FontFamily="CascadiaMono"
                                           IsVisible="{Binding IsSelected}" />

                                    <!-- Checkbox -->
                                    <Label Grid.Column="1"
                                           Text="{Binding CheckboxText}"
                                           TextColor="{Binding TextColor}"
                                           FontFamily="CascadiaMono"
                                           FontSize="13">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnIssueCheckboxTapped"
                                                                  CommandParameter="{Binding}" />
                                        </Label.GestureRecognizers>
                                    </Label>

                                    <!-- Issue number, text and task count -->
                                    <HorizontalStackLayout Grid.Column="2" Spacing="5">
                                        <!-- Issue number colored by due date -->
                                        <Label Text="{Binding IssueNumberDisplay}"
                                               TextColor="{Binding DueDateListColor}"
                                               FontFamily="CascadiaMono"
                                               FontSize="13" />

                                        <!-- Issue title -->
                                        <Label Text="{Binding TitleDisplay}"
                                               TextColor="{Binding DueDateListColor}"
                                               TextDecorations="{Binding TextDecorations}"
                                               FontFamily="CascadiaMono"
                                               FontSize="13" />

                                        <!-- Critical priority icon (for critical priority issues) -->
                                        <Label Text="{Binding CriticalPriorityIcon}"
                                               TextColor="{Binding CriticalPriorityIconColor}"
                                               FontFamily="MaterialIcons"
                                               FontSize="13"
                                               IsVisible="{Binding CriticalPriorityIconVisible}" />

                                        <!-- Status icon (for in_progress or blocked) -->
                                        <Label Text="{Binding StatusIcon}"
                                               TextColor="#FFA500"
                                               FontFamily="MaterialIcons"
                                               FontSize="13"
                                               IsVisible="{Binding StatusIconVisible}" />

                                        <!-- Due date icon (for tomorrow, today, or overdue) -->
                                        <Label Text="{Binding DueDateIcon}"
                                               TextColor="{Binding DueDateIconColor}"
                                               FontFamily="MaterialIcons"
                                               FontSize="13"
                                               IsVisible="{Binding DueDateIconVisible}" />

                                        <!-- Task count icon (shows icon based on open subtask count) -->
                                        <Label Text="{Binding TaskCountIcon}"
                                               TextColor="#A0A0A0"
                                               FontFamily="MaterialIcons"
                                               FontSize="13"
                                               IsVisible="{Binding TaskCountIconVisible}" />
                                    </HorizontalStackLayout>
                                </Grid>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                        <CollectionView.GroupHeaderTemplate>
                            <DataTemplate>
                                <Grid Padding="2" BackgroundColor="#1A1A1A">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <!-- Expand/Collapse icon -->
                                    <Label Grid.Column="0"
                                           Text="{Binding ExpandCollapseIcon}"
                                           TextColor="#4A9EFF"
                                           FontFamily="MaterialIcons"
                                           FontSize="16"
                                           VerticalOptions="Center">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnGroupHeaderTapped" />
                                        </Label.GestureRecognizers>
                                    </Label>

                                    <!-- Group name and count -->
                                    <Label Grid.Column="1"
                                           Text="{Binding GroupDisplay}"
                                           TextColor="#4A9EFF"
                                           FontFamily="CascadiaMono"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           VerticalOptions="Center">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnGroupHeaderTapped" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Grid>
                            </DataTemplate>
                        </CollectionView.GroupHeaderTemplate>
                    </CollectionView>

                    <!-- Filter TextBox at bottom of issues pane -->
                    <Border Grid.Row="2"
                            BackgroundColor="#1A1A1A"
                            StrokeThickness="1"
                            Stroke="#4A9EFF"
                            Margin="0,5,0,0"
                            Padding="5">
                        <Entry x:Name="IssueFilterTextBox"
                               Placeholder="Filter by title or tags..."
                               PlaceholderColor="#808080"
                               TextColor="#E0E0E0"
                               BackgroundColor="Transparent"
                               FontFamily="CascadiaMono"
                               FontSize="12"
                               TextChanged="OnIssueFilterTextChanged" />
                    </Border>
                </Grid>

                <!-- Vertical Separator -->
                <BoxView Grid.Column="1" Color="#4A9EFF" />

                <!-- Issue Details -->
                <Grid Grid.Column="2">
                    <ScrollView Padding="10">
                        <StackLayout Spacing="10">
                        <!-- Issue Details Header with Toolbar -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <Label Grid.Column="0"
                                   Text="ISSUE DETAILS"
                                   TextColor="#E0E0E0"
                                   FontFamily="CascadiaMono"
                                   FontSize="14"
                                   VerticalTextAlignment="Center" />

                            <!-- Toolbar -->
                            <HorizontalStackLayout Grid.Column="2" Spacing="5" VerticalOptions="Center">
                                <!-- Status Toggle Buttons -->
                                <HorizontalStackLayout Spacing="0">
                                    <!-- Todo Status Button -->
                                    <Border x:Name="TodoStatusButton"
                                            BackgroundColor="#2A2A2A"
                                            StrokeThickness="1"
                                            Stroke="#4A9EFF"
                                            HeightRequest="30"
                                            WidthRequest="30"
                                            VerticalOptions="Center">
                                        <Label Text="&#xf037;"
                                               x:Name="TodoStatusLabel"
                                               TextColor="#4A9EFF"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center"
                                               ToolTipProperties.Text="Set status to Todo">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnStatusTodoClicked" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>

                                    <!-- In Progress Status Button -->
                                    <Border x:Name="InProgressStatusButton"
                                            BackgroundColor="#2A2A2A"
                                            StrokeThickness="1"
                                            Stroke="#4A9EFF"
                                            HeightRequest="30"
                                            WidthRequest="30"
                                            VerticalOptions="Center">
                                        <Label Text="&#xe88b;"
                                               x:Name="InProgressStatusLabel"
                                               TextColor="#4A9EFF"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center"
                                               ToolTipProperties.Text="Set status to In Progress">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnStatusInProgressClicked" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>

                                    <!-- Blocked Status Button -->
                                    <Border x:Name="BlockedStatusButton"
                                            BackgroundColor="#2A2A2A"
                                            StrokeThickness="1"
                                            Stroke="#4A9EFF"
                                            HeightRequest="30"
                                            WidthRequest="30"
                                            VerticalOptions="Center">
                                        <Label Text="&#xE14B;"
                                               x:Name="BlockedStatusLabel"
                                               TextColor="#4A9EFF"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center"
                                               ToolTipProperties.Text="Set status to Blocked">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnStatusBlockedClicked" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>
                                </HorizontalStackLayout>

                                <!-- Priority Toggle Buttons -->
                                <HorizontalStackLayout Spacing="0">
                                    <!-- Critical Priority Button -->
                                    <Border x:Name="CriticalPriorityButton"
                                            BackgroundColor="#2A2A2A"
                                            StrokeThickness="1"
                                            Stroke="#4A9EFF"
                                            HeightRequest="30"
                                            WidthRequest="30"
                                            VerticalOptions="Center">
                                        <Label Text="&#xe400;"
                                               x:Name="CriticalPriorityLabel"
                                               TextColor="#4A9EFF"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center"
                                               ToolTipProperties.Text="Set priority to Critical">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnPriorityCriticalClicked" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>

                                    <!-- High Priority Button -->
                                    <Border x:Name="HighPriorityButton"
                                            BackgroundColor="#2A2A2A"
                                            StrokeThickness="1"
                                            Stroke="#4A9EFF"
                                            HeightRequest="30"
                                            WidthRequest="30"
                                            VerticalOptions="Center">
                                        <Label Text="&#xe401;"
                                               x:Name="HighPriorityLabel"
                                               TextColor="#4A9EFF"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center"
                                               ToolTipProperties.Text="Set priority to High">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnPriorityHighClicked" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>

                                    <!-- Medium Priority Button -->
                                    <Border x:Name="MediumPriorityButton"
                                            BackgroundColor="#2A2A2A"
                                            StrokeThickness="1"
                                            Stroke="#4A9EFF"
                                            HeightRequest="30"
                                            WidthRequest="30"
                                            VerticalOptions="Center">
                                        <Label Text="&#xe3fb;"
                                               x:Name="MediumPriorityLabel"
                                               TextColor="#4A9EFF"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center"
                                               ToolTipProperties.Text="Set priority to Medium">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnPriorityMediumClicked" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>

                                    <!-- Low Priority Button -->
                                    <Border x:Name="LowPriorityButton"
                                            BackgroundColor="#2A2A2A"
                                            StrokeThickness="1"
                                            Stroke="#4A9EFF"
                                            HeightRequest="30"
                                            WidthRequest="30"
                                            VerticalOptions="Center">
                                        <Label Text="&#xe3fd;"
                                               x:Name="LowPriorityLabel"
                                               TextColor="#4A9EFF"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center"
                                               ToolTipProperties.Text="Set priority to Low">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnPriorityLowClicked" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>
                                </HorizontalStackLayout>

                                <!-- Add Tag button -->
                                <Border x:Name="AddTagButton"
                                        BackgroundColor="#2A2A2A"
                                        StrokeThickness="1"
                                        Stroke="#4A9EFF"
                                        HeightRequest="30"
                                        WidthRequest="30"
                                        VerticalOptions="Center">
                                    <Label Text="&#xE609;"
                                           TextColor="#4A9EFF"
                                           FontFamily="MaterialIcons"
                                           FontSize="20"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center"
                                           HorizontalTextAlignment="Center"
                                           VerticalTextAlignment="Center"
                                           ToolTipProperties.Text="Add tag">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnAddTagClicked" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>

                                <!-- Developer Mode button -->
                                <Border x:Name="DeveloperModeButton"
                                        BackgroundColor="#2A2A2A"
                                        StrokeThickness="1"
                                        Stroke="#4A9EFF"
                                        HeightRequest="30"
                                        WidthRequest="30"
                                        VerticalOptions="Center">
                                    <Label Text="&#xEAD3;"
                                           TextColor="#4A9EFF"
                                           FontFamily="MaterialIcons"
                                           FontSize="20"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center"
                                           HorizontalTextAlignment="Center"
                                           VerticalTextAlignment="Center"
                                           ToolTipProperties.Text="Developer mode">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnDeveloperModeClicked" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>
                            </HorizontalStackLayout>
                        </Grid>

                        <!-- Issue Title with Tags -->
                        <HorizontalStackLayout Spacing="5">
                            <Label x:Name="IssueTitle"
                                   TextColor="#FFFFFF"
                                   FontFamily="CascadiaMono"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   VerticalOptions="Center" />

                            <!-- Tags Container (will be populated dynamically) -->
                            <HorizontalStackLayout x:Name="TagsContainer" Spacing="5" />
                        </HorizontalStackLayout>


                        <!-- Issue Description/Body -->
                        <Frame BackgroundColor="#2A2A2A"
                               BorderColor="#4A9EFF"
                               CornerRadius="5"
                               Padding="10"
                               Margin="0,5,0,10"
                               HasShadow="False">
                            <Editor x:Name="IssueDescription"
                                    TextColor="#E0E0E0"
                                    FontFamily="CascadiaMono"
                                    FontSize="13"
                                    IsReadOnly="True"
                                    BackgroundColor="Transparent"
                                    VerticalOptions="Start"
                                    AutoSize="TextChanges" />
                        </Frame>

                        <Grid RowSpacing="5" ColumnSpacing="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Label Grid.Row="0" Grid.Column="0" Text="Status:" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" />
                            <Label Grid.Row="0" Grid.Column="1" x:Name="StatusLabel" TextColor="#FFFFFF" FontFamily="CascadiaMono" FontSize="13" />

                            <Label Grid.Row="1" Grid.Column="0" Text="Priority:" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" />
                            <Label Grid.Row="1" Grid.Column="1" x:Name="PriorityLabel" TextColor="#FFFFFF" FontFamily="CascadiaMono" FontSize="13" />

                            <Label Grid.Row="2" Grid.Column="0" Text="Assignee:" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" />
                            <Label Grid.Row="2" Grid.Column="1" x:Name="AssigneeLabel" TextColor="#FFFFFF" FontFamily="CascadiaMono" FontSize="13" />

                            <Label Grid.Row="3" Grid.Column="0" Text="Due:" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" />
                            <Label Grid.Row="3" Grid.Column="1" x:Name="DueLabel" TextColor="#FFFFFF" FontFamily="CascadiaMono" FontSize="13" />

                            <Label Grid.Row="4" Grid.Column="0" Text="Estimate:" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" />
                            <Label Grid.Row="4" Grid.Column="1" x:Name="EstimateLabel" TextColor="#FFFFFF" FontFamily="CascadiaMono" FontSize="13" />
                        </Grid>

                        <BoxView Color="#2A2A2A" HeightRequest="1" Margin="0,10" />

                        <!-- Tabbed View for Subtasks and Time Tracking -->
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <!-- Tab Headers -->
                            <HorizontalStackLayout Grid.Row="0" Spacing="0">
                                <Border x:Name="SubtasksTab"
                                        BackgroundColor="#2A2A2A"
                                        StrokeThickness="0"
                                        Padding="10,5">
                                    <Label Text="SUBTASKS"
                                           TextColor="#FFFFFF"
                                           FontFamily="CascadiaMono"
                                           FontSize="13">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnSubtasksTabTapped" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>

                                <Border x:Name="TimeTrackingTab"
                                        BackgroundColor="#1A1A1A"
                                        StrokeThickness="0"
                                        Padding="10,5">
                                    <Label Text="TIME TRACKING"
                                           TextColor="#808080"
                                           FontFamily="CascadiaMono"
                                           FontSize="13">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnTimeTrackingTabTapped" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>
                            </HorizontalStackLayout>

                            <!-- Tab Content -->
                            <Border Grid.Row="1"
                                    StrokeThickness="0"
                                    BackgroundColor="#1A1A1A"
                                    Padding="10">
                                <Grid>
                                    <!-- Subtasks Content -->
                                    <Grid x:Name="SubtasksContent" IsVisible="True">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <!-- Subtasks List -->
                                        <StackLayout Grid.Column="0" x:Name="SubtasksList" Spacing="5" />

                                        <!-- Vertical Toolbar -->
                                        <Grid Grid.Column="1"
                                              Margin="10,0,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>

                                            <!-- Input Panel (hidden by default, appears to left of button) -->
                                            <Border Grid.Column="0"
                                                    x:Name="SubtaskInputPanel"
                                                    IsVisible="False"
                                                    BackgroundColor="#1A1A1A"
                                                    StrokeThickness="1"
                                                    Stroke="#4A9EFF"
                                                    Padding="5"
                                                    WidthRequest="250"
                                                    Margin="0,0,10,0"
                                                    VerticalOptions="Start">
                                                <StackLayout Spacing="5">
                                                    <!-- Title Input -->
                                                    <Label Text="Title (required):"
                                                           TextColor="#808080"
                                                           FontFamily="CascadiaMono"
                                                           FontSize="11" />
                                                    <Entry x:Name="SubtaskTitleInput"
                                                           TextColor="#FFFFFF"
                                                           BackgroundColor="#2A2A2A"
                                                           FontFamily="CascadiaMono"
                                                           FontSize="12"
                                                           Placeholder="Enter subtask title..."
                                                           PlaceholderColor="#606060" />

                                                    <!-- Estimate Input -->
                                                    <Label Text="Estimate (optional):"
                                                           TextColor="#808080"
                                                           FontFamily="CascadiaMono"
                                                           FontSize="11" />
                                                    <Entry x:Name="SubtaskEstimateInput"
                                                           TextColor="#FFFFFF"
                                                           BackgroundColor="#2A2A2A"
                                                           FontFamily="CascadiaMono"
                                                           FontSize="12"
                                                           Placeholder="e.g., 2h30m"
                                                           PlaceholderColor="#606060" />

                                                    <!-- Action Buttons -->
                                                    <HorizontalStackLayout Spacing="10" HorizontalOptions="End">
                                                        <!-- Cancel Button -->
                                                        <Border BackgroundColor="#2A2A2A"
                                                                StrokeThickness="0"
                                                                HeightRequest="25"
                                                                WidthRequest="25">
                                                            <Label Text="&#xE14C;"
                                                                   TextColor="#FF4444"
                                                                   FontFamily="MaterialIcons"
                                                                   FontSize="18"
                                                                   HorizontalOptions="Center"
                                                                   VerticalOptions="Center"
                                                                   HorizontalTextAlignment="Center"
                                                                   VerticalTextAlignment="Center">
                                                                <Label.GestureRecognizers>
                                                                    <TapGestureRecognizer Tapped="OnCancelSubtaskInput" />
                                                                </Label.GestureRecognizers>
                                                            </Label>
                                                        </Border>

                                                        <!-- Submit Button -->
                                                        <Border BackgroundColor="#2A2A2A"
                                                                StrokeThickness="0"
                                                                HeightRequest="25"
                                                                WidthRequest="25">
                                                            <Label Text="&#xE31B;"
                                                                   TextColor="#4A9EFF"
                                                                   FontFamily="MaterialIcons"
                                                                   FontSize="18"
                                                                   HorizontalOptions="Center"
                                                                   VerticalOptions="Center"
                                                                   HorizontalTextAlignment="Center"
                                                                   VerticalTextAlignment="Center">
                                                                <Label.GestureRecognizers>
                                                                    <TapGestureRecognizer Tapped="OnSubmitSubtask" />
                                                                </Label.GestureRecognizers>
                                                            </Label>
                                                        </Border>
                                                    </HorizontalStackLayout>
                                                </StackLayout>
                                            </Border>

                                            <!-- Add Task Button (always in same position) -->
                                            <StackLayout Grid.Column="1"
                                                         Orientation="Vertical"
                                                         Spacing="5">
                                                <Border x:Name="AddTaskButton"
                                                        BackgroundColor="#2A2A2A"
                                                        StrokeThickness="1"
                                                        Stroke="#4A9EFF"
                                                        HeightRequest="30"
                                                        WidthRequest="30"
                                                        VerticalOptions="Start">
                                                    <Label Text="&#xF23A;"
                                                           TextColor="#4A9EFF"
                                                           FontFamily="MaterialIcons"
                                                           FontSize="20"
                                                           HorizontalOptions="Center"
                                                           VerticalOptions="Center"
                                                           HorizontalTextAlignment="Center"
                                                           VerticalTextAlignment="Center"
                                                           ToolTipProperties.Text="Add subtask">
                                                        <Label.GestureRecognizers>
                                                            <TapGestureRecognizer Tapped="OnAddSubtaskClicked" />
                                                        </Label.GestureRecognizers>
                                                    </Label>
                                                </Border>
                                            </StackLayout>
                                        </Grid>
                                    </Grid>

                                    <!-- Time Tracking Content -->
                                    <Grid x:Name="TimeTrackingContent" IsVisible="False">
                                        <!-- Main content in a grid -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>

                                            <!-- Left side: Calendar -->
                                            <VerticalStackLayout Grid.Column="0" Spacing="8" Margin="0,0,10,0">
                                                <!-- Calendar Header -->
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="60" />
                                                        <ColumnDefinition Width="50" />
                                                        <ColumnDefinition Width="50" />
                                                        <ColumnDefinition Width="50" />
                                                        <ColumnDefinition Width="50" />
                                                        <ColumnDefinition Width="50" />
                                                        <ColumnDefinition Width="50" />
                                                        <ColumnDefinition Width="50" />
                                                        <ColumnDefinition Width="15" />
                                                        <ColumnDefinition Width="80" />
                                                    </Grid.ColumnDefinitions>
                                                    <Label Grid.Column="0" Text="" />
                                                    <Label Grid.Column="1" Text="S" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" HorizontalTextAlignment="Center" />
                                                    <Label Grid.Column="2" Text="M" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" HorizontalTextAlignment="Center" />
                                                    <Label Grid.Column="3" Text="T" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" HorizontalTextAlignment="Center" />
                                                    <Label Grid.Column="4" Text="W" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" HorizontalTextAlignment="Center" />
                                                    <Label Grid.Column="5" Text="T" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" HorizontalTextAlignment="Center" />
                                                    <Label Grid.Column="6" Text="F" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" HorizontalTextAlignment="Center" />
                                                    <Label Grid.Column="7" Text="S" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" HorizontalTextAlignment="Center" />
                                                    <Label Grid.Column="8" Text="│" TextColor="#404040" FontFamily="CascadiaMono" FontSize="13" HorizontalTextAlignment="Center" />
                                                    <Label Grid.Column="9" Text="Total" TextColor="#808080" FontFamily="CascadiaMono" FontSize="13" />
                                                </Grid>

                                                <!-- Separator line -->
                                                <BoxView HeightRequest="1" BackgroundColor="#404040" />

                                                <!-- Week rows will be dynamically generated -->
                                                <VerticalStackLayout x:Name="WeekRowsContainer" Spacing="5" />

                                                <!-- Separator line -->
                                                <BoxView HeightRequest="1" BackgroundColor="#404040" Margin="0,8,0,8" />

                                                <!-- Total only -->
                                                <Label x:Name="TotalTimeLabel" Text="Total: 0h" TextColor="#FFFFFF" FontFamily="CascadiaMono" FontSize="14" FontAttributes="Bold" />
                                            </VerticalStackLayout>

                                            <!-- Right side: Toolbar -->
                                            <VerticalStackLayout Grid.Column="1" Spacing="10" Margin="10,0,0,0" HorizontalOptions="End">
                                                <!-- Log Time button -->
                                                <Border BackgroundColor="#2A2A2A"
                                                        StrokeThickness="1"
                                                        Stroke="#4A9EFF"
                                                        HeightRequest="30"
                                                        WidthRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="&#xEA5D;"
                                                           TextColor="#4A9EFF"
                                                           FontFamily="MaterialIcons"
                                                           FontSize="20"
                                                           HorizontalOptions="Center"
                                                           VerticalOptions="Center"
                                                           HorizontalTextAlignment="Center"
                                                           VerticalTextAlignment="Center"
                                                           ToolTipProperties.Text="Log time spent">
                                                        <Label.GestureRecognizers>
                                                            <TapGestureRecognizer Tapped="OnLogTimeButtonClicked" />
                                                        </Label.GestureRecognizers>
                                                    </Label>
                                                </Border>
                                            </VerticalStackLayout>
                                        </Grid>

                                        <!-- Log Time Panel Overlay (appears on top when visible) -->
                                        <Border x:Name="LogTimePanel"
                                                IsVisible="False"
                                                BackgroundColor="#1A1A1A"
                                                StrokeThickness="1"
                                                Stroke="#4A9EFF"
                                                Padding="5"
                                                WidthRequest="250"
                                                HorizontalOptions="End"
                                                VerticalOptions="Start"
                                                Margin="0,0,50,0">
                                            <StackLayout Spacing="5">
                                                <!-- Duration input (required) -->
                                                <Label Text="Duration (required):"
                                                       TextColor="#808080"
                                                       FontFamily="CascadiaMono"
                                                       FontSize="11" />
                                                <Entry x:Name="LogTimeDurationInput"
                                                       Placeholder="e.g., 2h30m"
                                                       BackgroundColor="#2A2A2A"
                                                       TextColor="#FFFFFF"
                                                       PlaceholderColor="#606060"
                                                       FontFamily="CascadiaMono"
                                                       FontSize="12" />

                                                <!-- Description input (optional) -->
                                                <Label Text="Description (optional):"
                                                       TextColor="#808080"
                                                       FontFamily="CascadiaMono"
                                                       FontSize="11" />
                                                <Editor x:Name="LogTimeDescriptionInput"
                                                        Placeholder="What did you work on?"
                                                        BackgroundColor="#2A2A2A"
                                                        TextColor="#FFFFFF"
                                                        PlaceholderColor="#606060"
                                                        FontFamily="CascadiaMono"
                                                        FontSize="12"
                                                        HeightRequest="50"
                                                        AutoSize="TextChanges"
                                                        MaximumHeightRequest="80" />

                                                <!-- Date input (optional) -->
                                                <Label Text="Date (optional):"
                                                       TextColor="#808080"
                                                       FontFamily="CascadiaMono"
                                                       FontSize="11" />
                                                <Entry x:Name="LogTimeDateInput"
                                                       Placeholder="YYYY-MM-DD (default: today)"
                                                       BackgroundColor="#2A2A2A"
                                                       TextColor="#FFFFFF"
                                                       PlaceholderColor="#606060"
                                                       FontFamily="CascadiaMono"
                                                       FontSize="12" />

                                                <!-- Action buttons -->
                                                <HorizontalStackLayout Spacing="10" HorizontalOptions="End">
                                                    <!-- Cancel Button -->
                                                    <Border BackgroundColor="#2A2A2A"
                                                            StrokeThickness="0"
                                                            HeightRequest="25"
                                                            WidthRequest="25">
                                                        <Label Text="&#xE14C;"
                                                               TextColor="#FF4444"
                                                               FontFamily="MaterialIcons"
                                                               FontSize="18"
                                                               HorizontalOptions="Center"
                                                               VerticalOptions="Center"
                                                               HorizontalTextAlignment="Center"
                                                               VerticalTextAlignment="Center">
                                                            <Label.GestureRecognizers>
                                                                <TapGestureRecognizer Tapped="OnLogTimeCancel" />
                                                            </Label.GestureRecognizers>
                                                        </Label>
                                                    </Border>

                                                    <!-- Save Button -->
                                                    <Border BackgroundColor="#2A2A2A"
                                                            StrokeThickness="0"
                                                            HeightRequest="25"
                                                            WidthRequest="25">
                                                        <Label Text="&#xE31B;"
                                                               TextColor="#4A9EFF"
                                                               FontFamily="MaterialIcons"
                                                               FontSize="18"
                                                               HorizontalOptions="Center"
                                                               VerticalOptions="Center"
                                                               HorizontalTextAlignment="Center"
                                                               VerticalTextAlignment="Center">
                                                            <Label.GestureRecognizers>
                                                                <TapGestureRecognizer Tapped="OnLogTimeConfirm" />
                                                            </Label.GestureRecognizers>
                                                        </Label>
                                                    </Border>
                                                </HorizontalStackLayout>
                                            </StackLayout>
                                        </Border>
                                    </Grid>
                                </Grid>
                            </Border>
                        </Grid>
                        </StackLayout>
                    </ScrollView>

                    <!-- Tag Input Panel Overlay (appears on top when visible) -->
                    <Border x:Name="TagInputPanel"
                            IsVisible="False"
                            BackgroundColor="#1A1A1A"
                            StrokeThickness="1"
                            Stroke="#4A9EFF"
                            Padding="5"
                            WidthRequest="250"
                            VerticalOptions="Start"
                            HorizontalOptions="Center"
                            Margin="0,50,0,0">
                        <StackLayout Spacing="5">
                            <Label Text="Tag name:"
                                   TextColor="#808080"
                                   FontFamily="CascadiaMono"
                                   FontSize="11" />
                            <Entry x:Name="TagNameInput"
                                   TextColor="#FFFFFF"
                                   BackgroundColor="#2A2A2A"
                                   FontFamily="CascadiaMono"
                                   FontSize="12"
                                   Placeholder="Enter tag name..."
                                   PlaceholderColor="#606060" />

                            <!-- Action Buttons -->
                            <HorizontalStackLayout Spacing="10" HorizontalOptions="End">
                                <!-- Cancel Button -->
                                <Border BackgroundColor="#2A2A2A"
                                        StrokeThickness="0"
                                        HeightRequest="25"
                                        WidthRequest="25">
                                    <Label Text="&#xE14C;"
                                           TextColor="#FF4444"
                                           FontFamily="MaterialIcons"
                                           FontSize="18"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center"
                                           HorizontalTextAlignment="Center"
                                           VerticalTextAlignment="Center">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnCancelTagInput" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>

                                <!-- Add Button -->
                                <Border BackgroundColor="#2A2A2A"
                                        StrokeThickness="0"
                                        HeightRequest="25"
                                        WidthRequest="25">
                                    <Label Text="&#xE31B;"
                                           TextColor="#4A9EFF"
                                           FontFamily="MaterialIcons"
                                           FontSize="18"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center"
                                           HorizontalTextAlignment="Center"
                                           VerticalTextAlignment="Center">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Tapped="OnSubmitTag" />
                                        </Label.GestureRecognizers>
                                    </Label>
                                </Border>
                            </HorizontalStackLayout>
                        </StackLayout>
                    </Border>
                </Grid>

                <!-- Vertical Separator -->
                <BoxView Grid.Column="3" Color="#4A9EFF" />

                <!-- Comments/Notes -->
                <Grid Grid.Column="4" Padding="5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Header with toolbar -->
                    <Grid Grid.Row="0" Margin="0,0,0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Column="0"
                               Text="COMMENTS/NOTES"
                               TextColor="#E0E0E0"
                               FontFamily="CascadiaMono"
                               FontSize="14"
                               VerticalTextAlignment="Center" />

                        <!-- Toolbar -->
                        <HorizontalStackLayout Grid.Column="2"
                                               Spacing="5"
                                               VerticalOptions="Center">
                            <!-- Add Comment Button -->
                            <Border x:Name="AddCommentButton"
                                    BackgroundColor="#2A2A2A"
                                    StrokeThickness="1"
                                    Stroke="#4A9EFF"
                                    HeightRequest="30"
                                    WidthRequest="30"
                                    VerticalOptions="Center">
                                <Label Text="&#xE266;"
                                       TextColor="#4A9EFF"
                                       FontFamily="MaterialIcons"
                                       FontSize="20"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       HorizontalTextAlignment="Center"
                                       VerticalTextAlignment="Center"
                                       ToolTipProperties.Text="Add comment">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnAddCommentClicked" />
                                    </Label.GestureRecognizers>
                                </Label>
                            </Border>

                            <!-- Add Note Button -->
                            <Border x:Name="AddNoteButton"
                                    BackgroundColor="#2A2A2A"
                                    StrokeThickness="1"
                                    Stroke="#4A9EFF"
                                    HeightRequest="30"
                                    WidthRequest="30"
                                    VerticalOptions="Center">
                                <Label Text="&#xE89C;"
                                       TextColor="#4A9EFF"
                                       FontFamily="MaterialIcons"
                                       FontSize="20"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       HorizontalTextAlignment="Center"
                                       VerticalTextAlignment="Center"
                                       ToolTipProperties.Text="Add note">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnAddNoteClicked" />
                                    </Label.GestureRecognizers>
                                </Label>
                            </Border>

                            <!-- Command Filter Toggle -->
                            <Border x:Name="CommandFilterToggleBorder"
                                    BackgroundColor="#2A2A2A"
                                    StrokeThickness="1"
                                    Stroke="#4A9EFF"
                                    HeightRequest="30"
                                    WidthRequest="30"
                                    VerticalOptions="Center">
                                <Label x:Name="CommandFilterToggle"
                                       Text="&#xE86F;"
                                       TextColor="#808080"
                                       FontFamily="MaterialIcons"
                                       FontSize="20"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       HorizontalTextAlignment="Center"
                                       VerticalTextAlignment="Center"
                                       ToolTipProperties.Text="Toggle commands">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnCommandFilterToggled" />
                                    </Label.GestureRecognizers>
                                </Label>
                            </Border>
                        </HorizontalStackLayout>
                    </Grid>

                    <Grid Grid.Row="1">
                        <ScrollView x:Name="CommentsScrollView">
                            <StackLayout x:Name="CommentsList" Spacing="10" />
                        </ScrollView>

                        <!-- Comment Input Panel (hidden by default, appears over comments) -->
                        <Border x:Name="CommentInputPanel"
                                IsVisible="False"
                                BackgroundColor="#1A1A1A"
                                StrokeThickness="1"
                                Stroke="#4A9EFF"
                                Padding="10"
                                Margin="10"
                                VerticalOptions="Center"
                                HorizontalOptions="Fill">
                            <StackLayout Spacing="8">
                                <!-- Comment Body Input -->
                                <Label Text="Comment:"
                                       TextColor="#808080"
                                       FontFamily="CascadiaMono"
                                       FontSize="12" />
                                <Editor x:Name="CommentBodyInput"
                                        TextColor="#FFFFFF"
                                        BackgroundColor="#2A2A2A"
                                        FontFamily="CascadiaMono"
                                        FontSize="12"
                                        Placeholder="Enter your comment..."
                                        PlaceholderColor="#606060"
                                        HeightRequest="100"
                                        AutoSize="TextChanges"
                                        MaximumHeightRequest="200" />

                                <!-- Markdown Option -->
                                <HorizontalStackLayout Spacing="5">
                                    <CheckBox x:Name="MarkdownCheckbox"
                                              Color="#4A9EFF"
                                              VerticalOptions="Center" />
                                    <Label Text="Format as markdown"
                                           TextColor="#808080"
                                           FontFamily="CascadiaMono"
                                           FontSize="12"
                                           VerticalOptions="Center" />
                                </HorizontalStackLayout>

                                <!-- Action Buttons -->
                                <HorizontalStackLayout Spacing="10" HorizontalOptions="End">
                                    <!-- Cancel Button -->
                                    <Border BackgroundColor="#2A2A2A"
                                            StrokeThickness="0"
                                            HeightRequest="30"
                                            WidthRequest="30">
                                        <Label Text="&#xE14C;"
                                               TextColor="#FF4444"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnCancelCommentInput" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>

                                    <!-- Submit Button -->
                                    <Border BackgroundColor="#2A2A2A"
                                            StrokeThickness="0"
                                            HeightRequest="30"
                                            WidthRequest="30">
                                        <Label Text="&#xE31B;"
                                               TextColor="#4A9EFF"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnSubmitComment" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>
                                </HorizontalStackLayout>
                            </StackLayout>
                        </Border>

                        <!-- Note Input Panel (hidden by default, appears over comments) -->
                        <Border x:Name="NoteInputPanel"
                                IsVisible="False"
                                BackgroundColor="#1A1A1A"
                                StrokeThickness="1"
                                Stroke="#4A9EFF"
                                Padding="10"
                                Margin="10"
                                VerticalOptions="Center"
                                HorizontalOptions="Fill">
                            <StackLayout Spacing="8">
                                <!-- Note Title Input (optional) -->
                                <Label Text="Title (optional):"
                                       TextColor="#808080"
                                       FontFamily="CascadiaMono"
                                       FontSize="12" />
                                <Entry x:Name="NoteTitleInput"
                                       TextColor="#FFFFFF"
                                       BackgroundColor="#2A2A2A"
                                       FontFamily="CascadiaMono"
                                       FontSize="12"
                                       Placeholder="Enter note title..."
                                       PlaceholderColor="#606060" />

                                <!-- Note Category Input (optional) -->
                                <Label Text="Category (optional):"
                                       TextColor="#808080"
                                       FontFamily="CascadiaMono"
                                       FontSize="12" />
                                <Entry x:Name="NoteCategoryInput"
                                       TextColor="#FFFFFF"
                                       BackgroundColor="#2A2A2A"
                                       FontFamily="CascadiaMono"
                                       FontSize="12"
                                       Placeholder="e.g., security, decision, todo..."
                                       PlaceholderColor="#606060" />

                                <!-- Note Content Input (required) -->
                                <Label Text="Note content (required):"
                                       TextColor="#808080"
                                       FontFamily="CascadiaMono"
                                       FontSize="12" />
                                <Editor x:Name="NoteContentInput"
                                        TextColor="#FFFFFF"
                                        BackgroundColor="#2A2A2A"
                                        FontFamily="CascadiaMono"
                                        FontSize="12"
                                        Placeholder="Enter your note..."
                                        PlaceholderColor="#606060"
                                        HeightRequest="100"
                                        AutoSize="TextChanges"
                                        MaximumHeightRequest="200" />

                                <!-- Action Buttons -->
                                <HorizontalStackLayout Spacing="10" HorizontalOptions="End">
                                    <!-- Cancel Button -->
                                    <Border BackgroundColor="#2A2A2A"
                                            StrokeThickness="0"
                                            HeightRequest="30"
                                            WidthRequest="30">
                                        <Label Text="&#xE14C;"
                                               TextColor="#FF4444"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnCancelNoteInput" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>

                                    <!-- Submit Button -->
                                    <Border BackgroundColor="#2A2A2A"
                                            StrokeThickness="0"
                                            HeightRequest="30"
                                            WidthRequest="30">
                                        <Label Text="&#xE31B;"
                                               TextColor="#4A9EFF"
                                               FontFamily="MaterialIcons"
                                               FontSize="20"
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnSubmitNote" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Border>
                                </HorizontalStackLayout>
                            </StackLayout>
                        </Border>
                    </Grid>
                </Grid>
            </Grid>
        </Border>

        <!-- Developer Mode Panel (popup for showing parsed issue state) -->
        <Border x:Name="DeveloperModePanel"
                IsVisible="False"
                BackgroundColor="#1A1A1A"
                StrokeThickness="2"
                Stroke="#4A9EFF"
                Padding="10"
                Grid.Row="0"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                WidthRequest="600"
                HeightRequest="500">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- Header -->
                <Grid Grid.Row="0" Margin="0,0,0,10">
                    <Label Text="PARSED ISSUE STATE"
                           TextColor="#4A9EFF"
                           FontFamily="CascadiaMono"
                           FontSize="16"
                           FontAttributes="Bold"
                           HorizontalOptions="Start" />

                    <!-- Close button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="0"
                            HeightRequest="25"
                            WidthRequest="25"
                            HorizontalOptions="End">
                        <Label Text="&#xE14C;"
                               TextColor="#FF4444"
                               FontFamily="MaterialIcons"
                               FontSize="18"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnCloseDeveloperMode" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>
                </Grid>

                <!-- Content -->
                <ScrollView Grid.Row="1">
                    <Editor x:Name="DeveloperModeContent"
                            TextColor="#00FF00"
                            BackgroundColor="#0A0A0A"
                            FontFamily="CascadiaMono"
                            FontSize="11"
                            IsReadOnly="True"
                            HorizontalOptions="Fill"
                            VerticalOptions="Fill" />
                </ScrollView>

                <!-- Footer -->
                <Label Grid.Row="2"
                       Text="This shows the parsed /notnow state from issue and comments"
                       TextColor="#606060"
                       FontFamily="CascadiaMono"
                       FontSize="10"
                       HorizontalOptions="Center"
                       Margin="0,10,0,0" />
            </Grid>
        </Border>

        <!-- Footer with Repository Selector and Settings -->
        <Grid Grid.Row="1" HorizontalOptions="Fill" VerticalOptions="Center" Margin="10,5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Window Control Toolbar -->
            <HorizontalStackLayout Grid.Column="0"
                                   Spacing="5"
                                   VerticalOptions="Center"
                                   HorizontalOptions="Start"
                                   Margin="0,0,20,0">

                <!-- Hide Window Button -->
                <Border BackgroundColor="#2A2A2A"
                        StrokeThickness="1"
                        Stroke="#4A9EFF"
                        HeightRequest="24"
                        WidthRequest="24"
                        VerticalOptions="Center">
                    <Label x:Name="HideButton"
                           Text="&#xe931;"
                           TextColor="#4A9EFF"
                           FontFamily="MaterialIcons"
                           FontSize="16"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           HorizontalTextAlignment="Center"
                           VerticalTextAlignment="Center"
                           ToolTipProperties.Text="Hide window (Ctrl+~)">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnHideWindow" />
                        </Label.GestureRecognizers>
                    </Label>
                </Border>

                <!-- Expand/Maximize Button -->
                <Border BackgroundColor="#2A2A2A"
                        StrokeThickness="1"
                        Stroke="#4A9EFF"
                        HeightRequest="24"
                        WidthRequest="24"
                        VerticalOptions="Center">
                    <Label x:Name="ExpandButton"
                           Text="&#xe94f;"
                           TextColor="#4A9EFF"
                           FontFamily="MaterialIcons"
                           FontSize="16"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           HorizontalTextAlignment="Center"
                           VerticalTextAlignment="Center"
                           ToolTipProperties.Text="Expand window">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnExpandWindow" />
                        </Label.GestureRecognizers>
                    </Label>
                </Border>

                <!-- Quit Button -->
                <Border BackgroundColor="#2A2A2A"
                        StrokeThickness="1"
                        Stroke="#4A9EFF"
                        HeightRequest="24"
                        WidthRequest="24"
                        VerticalOptions="Center">
                    <Label x:Name="QuitButton"
                           Text="&#xe5cd;"
                           TextColor="#4A9EFF"
                           FontFamily="MaterialIcons"
                           FontSize="16"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           HorizontalTextAlignment="Center"
                           VerticalTextAlignment="Center"
                           ToolTipProperties.Text="Quit application">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnQuitApplication" />
                        </Label.GestureRecognizers>
                    </Label>
                </Border>

            </HorizontalStackLayout>

            <!-- Loading Indicator (center of footer) -->
            <Label Grid.Column="1"
                   x:Name="LoadingIndicator"
                   Text="&#xe863;"
                   FontFamily="MaterialIcons"
                   FontSize="20"
                   TextColor="#4A9EFF"
                   IsVisible="False"
                   HorizontalOptions="Center"
                   VerticalOptions="Center" />

            <!-- Work Timer (Pomodoro) -->
            <Border Grid.Column="2"
                    BackgroundColor="Transparent"
                    StrokeThickness="1"
                    Stroke="#2A2A2A"
                    Padding="8,4"
                    VerticalOptions="Center"
                    Margin="0,0,10,0">
                <HorizontalStackLayout Spacing="5" VerticalOptions="Center">
                    <Label Text="Work:"
                           TextColor="#606060"
                           FontFamily="CascadiaMono"
                           FontSize="12"
                           VerticalTextAlignment="Center" />

                    <Label x:Name="WorkTimerDisplay"
                           Text="0s"
                           TextColor="#4A9EFF"
                           FontFamily="CascadiaMono"
                           FontSize="12"
                           VerticalTextAlignment="Center"
                           MinimumWidthRequest="65" />

                    <!-- Work Timer Play/Pause Button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="1"
                            Stroke="#4A9EFF"
                            HeightRequest="20"
                            WidthRequest="20"
                            VerticalOptions="Center">
                        <Label x:Name="WorkTimerPlayPauseButton"
                               Text="&#xe037;"
                               TextColor="#4A9EFF"
                               FontFamily="MaterialIcons"
                               FontSize="12"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center"
                               ToolTipProperties.Text="Start work timer">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnWorkTimerToggle" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>

                    <!-- Work Timer Reset Button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="1"
                            Stroke="#4A9EFF"
                            HeightRequest="20"
                            WidthRequest="20"
                            VerticalOptions="Center">
                        <Label x:Name="WorkTimerResetButton"
                               Text="&#xe047;"
                               TextColor="#4A9EFF"
                               FontFamily="MaterialIcons"
                               FontSize="12"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center"
                               ToolTipProperties.Text="Reset work timer">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnWorkTimerReset" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>
                </HorizontalStackLayout>
            </Border>

            <!-- Countdown Timer -->
            <Border Grid.Column="3"
                    BackgroundColor="Transparent"
                    StrokeThickness="1"
                    Stroke="#2A2A2A"
                    Padding="8,4"
                    VerticalOptions="Center"
                    Margin="0,0,10,0">
                <HorizontalStackLayout Spacing="5" VerticalOptions="Center">
                    <Label Text="Timer:"
                           TextColor="#606060"
                           FontFamily="CascadiaMono"
                           FontSize="12"
                           VerticalTextAlignment="Center" />

                    <!-- Countdown Timer Up Button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="1"
                            Stroke="#4A9EFF"
                            HeightRequest="16"
                            WidthRequest="16"
                            VerticalOptions="Center">
                        <Label x:Name="CountdownTimerUpButton"
                               Text="&#xe5d8;"
                               TextColor="#4A9EFF"
                               FontFamily="MaterialIcons"
                               FontSize="10"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center"
                               ToolTipProperties.Text="Add 5 minutes">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnCountdownTimerUp" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>

                    <Label x:Name="CountdownTimerDisplay"
                           Text="25m0s"
                           TextColor="#4A9EFF"
                           FontFamily="CascadiaMono"
                           FontSize="12"
                           VerticalTextAlignment="Center"
                           MinimumWidthRequest="75" />

                    <!-- Countdown Timer Down Button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="1"
                            Stroke="#4A9EFF"
                            HeightRequest="16"
                            WidthRequest="16"
                            VerticalOptions="Center">
                        <Label x:Name="CountdownTimerDownButton"
                               Text="&#xe5db;"
                               TextColor="#4A9EFF"
                               FontFamily="MaterialIcons"
                               FontSize="10"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center"
                               ToolTipProperties.Text="Remove 5 minutes">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnCountdownTimerDown" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>

                    <!-- Countdown Timer Start/Stop Button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="1"
                            Stroke="#4A9EFF"
                            HeightRequest="20"
                            WidthRequest="20"
                            VerticalOptions="Center">
                        <Label x:Name="CountdownTimerStartStopButton"
                               Text="&#xe037;"
                               TextColor="#4A9EFF"
                               FontFamily="MaterialIcons"
                               FontSize="12"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center"
                               ToolTipProperties.Text="Start countdown timer">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnCountdownTimerStartStop" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>
                </HorizontalStackLayout>
            </Border>

            <!-- Repository Selector -->
            <HorizontalStackLayout Grid.Column="4"
                                   Spacing="8"
                                   VerticalOptions="Center"
                                   Margin="0,0,20,0">
                <Label Text="Repository:"
                       TextColor="#606060"
                       FontFamily="CascadiaMono"
                       FontSize="12"
                       VerticalTextAlignment="Center" />

                <Picker x:Name="RepositorySelector"
                        TextColor="#4A9EFF"
                        FontFamily="CascadiaMono"
                        FontSize="12"
                        BackgroundColor="Transparent"
                        WidthRequest="200"
                        SelectedIndexChanged="OnRepositorySelectionChanged" />
            </HorizontalStackLayout>

            <!-- Settings Button -->
            <Border Grid.Column="5"
                    x:Name="SettingsButton"
                    BackgroundColor="#2A2A2A"
                    StrokeThickness="1"
                    Stroke="#4A9EFF"
                    HeightRequest="30"
                    WidthRequest="30"
                    VerticalOptions="Center"
                    Margin="0,0,10,0">
                <Label Text="&#xE8B8;"
                       TextColor="#4A9EFF"
                       FontFamily="MaterialIcons"
                       FontSize="20"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       HorizontalTextAlignment="Center"
                       VerticalTextAlignment="Center"
                       ToolTipProperties.Text="Edit settings">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnSettingsClicked" />
                    </Label.GestureRecognizers>
                </Label>
            </Border>

            <Image Grid.Column="6"
                   Source="notnow_logo_square.png"
                   WidthRequest="30"
                   HeightRequest="30"
                   Aspect="AspectFit"
                   HorizontalOptions="End"
                   ToolTipProperties.Text="Visit NotNowBoss.com">
                <Image.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnLogoClicked" />
                </Image.GestureRecognizers>
            </Image>
        </Grid>

        <!-- Subtask Completion Panel (overlay, hidden by default) -->
        <Border x:Name="SubtaskCompletionPanel"
                IsVisible="False"
                BackgroundColor="#1A1A1A"
                StrokeThickness="1"
                Stroke="#4A9EFF"
                Padding="15"
                Margin="20"
                VerticalOptions="Center"
                HorizontalOptions="Center"
                WidthRequest="400">
            <StackLayout Spacing="10">
                <!-- Panel Title -->
                <Label Text="Complete Subtask"
                       TextColor="#4A9EFF"
                       FontFamily="CascadiaMono"
                       FontSize="14"
                       FontAttributes="Bold" />

                <!-- Time Spent Input -->
                <Label Text="Time spent (optional):"
                       TextColor="#808080"
                       FontFamily="CascadiaMono"
                       FontSize="12" />
                <Entry x:Name="CompletionTimeInput"
                       TextColor="#FFFFFF"
                       BackgroundColor="#2A2A2A"
                       FontFamily="CascadiaMono"
                       FontSize="12"
                       Placeholder="e.g., 2h30m"
                       PlaceholderColor="#606060" />

                <!-- Completion Notes Input -->
                <Label Text="Notes (optional):"
                       TextColor="#808080"
                       FontFamily="CascadiaMono"
                       FontSize="12" />
                <Editor x:Name="CompletionNotesInput"
                        TextColor="#FFFFFF"
                        BackgroundColor="#2A2A2A"
                        FontFamily="CascadiaMono"
                        FontSize="12"
                        Placeholder="Enter completion notes..."
                        PlaceholderColor="#606060"
                        HeightRequest="80"
                        AutoSize="TextChanges"
                        MaximumHeightRequest="120" />

                <!-- Action Buttons -->
                <HorizontalStackLayout Spacing="10" HorizontalOptions="End">
                    <!-- Cancel Button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="0"
                            HeightRequest="35"
                            WidthRequest="35">
                        <Label Text="&#xE14C;"
                               TextColor="#FF4444"
                               FontFamily="MaterialIcons"
                               FontSize="20"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnCancelSubtaskCompletion" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>

                    <!-- Complete Button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="0"
                            HeightRequest="35"
                            WidthRequest="35">
                        <Label Text="&#xE876;"
                               TextColor="#00FF00"
                               FontFamily="MaterialIcons"
                               FontSize="20"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnConfirmSubtaskCompletion" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>
                </HorizontalStackLayout>
            </StackLayout>
        </Border>

        <!-- Issue Input Panel (overlay, hidden by default) -->
        <Border x:Name="IssueInputPanel"
                IsVisible="False"
                BackgroundColor="#1A1A1A"
                StrokeThickness="1"
                Stroke="#4A9EFF"
                Padding="15"
                Margin="20"
                VerticalOptions="Center"
                HorizontalOptions="Center"
                WidthRequest="500">
            <StackLayout Spacing="10">
                <!-- Panel Title -->
                <Label Text="Create New Issue"
                       TextColor="#4A9EFF"
                       FontFamily="CascadiaMono"
                       FontSize="16"
                       FontAttributes="Bold"
                       HorizontalOptions="Center" />

                <!-- Issue Title Input -->
                <Label Text="Title (required):"
                       TextColor="#808080"
                       FontFamily="CascadiaMono"
                       FontSize="12" />
                <Entry x:Name="IssueTitleInput"
                       TextColor="#FFFFFF"
                       BackgroundColor="#2A2A2A"
                       FontFamily="CascadiaMono"
                       FontSize="12"
                       Placeholder="Enter issue title..."
                       PlaceholderColor="#606060" />

                <!-- Issue Description Input -->
                <Label Text="Description (optional):"
                       TextColor="#808080"
                       FontFamily="CascadiaMono"
                       FontSize="12" />
                <Editor x:Name="IssueDescriptionInput"
                        TextColor="#FFFFFF"
                        BackgroundColor="#2A2A2A"
                        FontFamily="CascadiaMono"
                        FontSize="12"
                        Placeholder="Enter issue description..."
                        PlaceholderColor="#606060"
                        HeightRequest="112"
                        AutoSize="TextChanges"
                        MaximumHeightRequest="187" />

                <!-- Due Date Input -->
                <Label Text="Due Date (optional, YYYY-MM-DD):"
                       TextColor="#808080"
                       FontFamily="CascadiaMono"
                       FontSize="12" />
                <Entry x:Name="IssueDueDateInput"
                       TextColor="#FFFFFF"
                       BackgroundColor="#2A2A2A"
                       FontFamily="CascadiaMono"
                       FontSize="12"
                       Placeholder="YYYY-MM-DD"
                       PlaceholderColor="#606060" />

                <!-- Estimate Input -->
                <Label Text="Estimate (optional, e.g. 1h30m):"
                       TextColor="#808080"
                       FontFamily="CascadiaMono"
                       FontSize="12" />
                <Entry x:Name="IssueEstimateInput"
                       TextColor="#FFFFFF"
                       BackgroundColor="#2A2A2A"
                       FontFamily="CascadiaMono"
                       FontSize="12"
                       Placeholder="e.g. 2h, 30m, 1h30m"
                       PlaceholderColor="#606060" />

                <!-- Action Buttons -->
                <HorizontalStackLayout Spacing="10" HorizontalOptions="End">
                    <!-- Cancel Button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="0"
                            HeightRequest="35"
                            WidthRequest="80"
                            Padding="5">
                        <Label Text="Cancel"
                               TextColor="#FF4444"
                               FontFamily="CascadiaMono"
                               FontSize="12"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnCancelIssueInput" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>

                    <!-- Create Button -->
                    <Border BackgroundColor="#2A2A2A"
                            StrokeThickness="0"
                            HeightRequest="35"
                            WidthRequest="80"
                            Padding="5">
                        <Label Text="Create"
                               TextColor="#00FF00"
                               FontFamily="CascadiaMono"
                               FontSize="12"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"
                               VerticalTextAlignment="Center">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnCreateIssue" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>
                </HorizontalStackLayout>
            </StackLayout>
        </Border>
    </Grid>
</ContentPage>